<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        #tab {
            width: 500px;
            height: 350px;
            position: absolute;
            left: 50%;
            top: 50%;
            margin-left: -250px;
            margin-top: -175px;
        }

        #tab ul {
            list-style: none;
            overflow: hidden;
        }

        #tab ul li {
            width: 80px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border: 1px solid lightcoral;
            float: left;
            margin-right: 10px;
            cursor: pointer;
        }

        #tab ul li.select {
            background: lightcoral;
        }

        #tab div {
            display: none;
            width: 500px;
            height: 320px;
            text-align: center;
            line-height: 320px;
            font-size: 30px;
            color: lightcoral;
            border: 1px solid lightcoral;
        }

        #tab div.select {
            display: block;
        }
    </style>
</head>
<body>
<div id="tab">
    <ul>
        <li class="select">世界杯</li>
        <li>综艺</li>
        <li>电影</li>
    </ul>
    <div class="select">梅西</div>
    <div>跑男</div>
    <div>复联3</div>
</div>
<ul>
    <li></li>
</ul>
<script>
    var tab = document.getElementById("tab");
    var oLis = tab.getElementsByTagName("li");
    var divs = tab.getElementsByTagName("div");

    var len = oLis.length;
    for (let i = 0; i < len; i++) {
        //for循环中用let,会形成父作用域;没循环一次,都会形成一个子作用域,在自作用域中会把当前的i进行保存.
        oLis[i].onclick = function () {
            console.log(i);
            for (var j = 0; j < len; j++) {
                oLis[j].className = "";
                divs[j].className = "";
            }
            oLis[i].className = "select";
            divs[i].className = "select";

        }
    }


    // for (var i = 0; i < len; i++) {
    //     oLis[i].onclick=(function (i) {
    //         //i:私有变量i=0;
    //         //一共形成3个不销毁的,每个作用域都有一个不销毁的变量i,并且i不同
    //         return function () {
    //             for (var j = 0; j < len; j++) {
    //                 oLis[j].className="";
    //                 divs[j].className="";
    //             }
    //             this.className="select";
    //             divs[i].className="select";
    //         }
    //     })(i)
    // }

    //闭包:存储值
    //比较:闭包形成了三个不销毁的作用域,栈内存不能被释放,相对于自定义属性,自定义属性会更好一些


    // var arr = [];
    // for(var i=0;i<3;i++){
    //     arr.push(function(){
    //         console.log(i);
    //     });
    // }
    // console.log(arr[0]);
    // console.log(arr[1]);
    // console.log(arr[2]);
    // arr.forEach(function(val,index){
    //     val();// i=3
    // });


    // var arr = [];
    // for(let i=0,j=10;i<3;i++){
    //     arr.push(function(){
    //         console.log(j);
    //     });
    // }
    //
    // arr.forEach(function(val,i){
    //
    //     val();
    // });

</script>
</body>
</html>